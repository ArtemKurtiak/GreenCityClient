<div class="title">{{ 'user.habit.to-do-list' | translate }}</div>
<div *ngIf="shopList">
  <ul class="shopping-list" [ngClass]="isAcquired ? 'checkbox-list' : 'editing-list'">
    <li *ngFor="let item of shopList; index as i">
      <label [ngClass]="{ selected: item.selected, done: item.status === 'DONE' }">
        <input *ngIf="!isAcquired" type="checkbox" [checked]="!item.selected" (change)="selectItem(item)" />
        <input *ngIf="isAcquired" type="checkbox" disabled="true" />
        <span [ngClass]="isAcquired ? 'checkmark' : 'checkedmark'"></span>
        <span class="text" ngbPopover="{{ item.text }}" triggers="mouseenter:mouseleave" placement="top" container="body">
          {{ truncateShoppingItemName(item.text) }}
        </span>
        <button *ngIf="item.custom && !isAcquired" id="del-btn" (click)="deleteItem(item.id)"></button>
      </label>
    </li>
    <div *ngIf="!shopList.length">
      {{ 'user.habit.no-shopping-items' | translate }}
    </div>
  </ul>
  <form *ngIf="!isAcquired" [formGroup]="itemForm">
    <label class="add-custom-item">{{ 'user.habit.add-custom-item' | translate }}</label>
    <input id="add-field" type="text" formControlName="item" autocomplete="off" />
    <input #btn [disabled]="!itemForm.valid" id="add-btn" type="submit" value="+" (click)="addItem(item.value)" />
  </form>
</div>
