<div [ngClass]="toggleBurgerMenu ? 'break-shadow main' : 'main'">
  <div class="header_wrp container">
    <div class="header_container">
      <a class="header_logo" [routerLink]="['/']" routerLinkActive="active-link" [routerLinkActiveOptions]="{ exact: true }">
        <img src="../../../../../assets/img/logo.svg" alt="Logo">
      </a>
      <div class="header_navigation-menu">
        <div [ngClass]="toggleBurgerMenu ? 'header_navigation-menu-left-col' : 'header_navigation-menu-left'">
          <ul>
            <li>
              <a [routerLink]="['/news']" routerLinkActive="active-link" routerLinkActiveOptions="{exact:true}">
                {{ 'user.lower-nav-bar.eco-events' | translate }}
              </a>
            </li>
            <li>
              <a [routerLink]="['/tips']" routerLinkActive="active-link" routerLinkActiveOptions="{exact:true}">
                {{ 'user.lower-nav-bar.tips' | translate }}
              </a>
            </li>
            <li>
              <a [routerLink]="['/map']" routerLinkActive="active-link" routerLinkActiveOptions="{exact:true}"
                routerLinkActive="active-link" routerLinkActiveOptions="{exact:true}">
                {{ 'user.lower-nav-bar.map' | translate }}
              </a>
            </li>
            <li>
              <a [routerLink]="['/about']" routerLinkActive="active-link" routerLinkActiveOptions="{exact:true}">
                {{ 'user.lower-nav-bar.about-us' | translate }}
              </a>
            </li>
            <li>
              <a [routerLink]="['/profile', getUserId()]" routerLinkActive="active-link"
                routerLinkActiveOptions="{exact:true}">
                {{ 'user.lower-nav-bar.my-habits' | translate }}
              </a>
            </li>
            <div *ngIf="!isLoggedIn; then userLoggedInSmall else userNotLoggerInSmall"></div>
            <ng-template #userLoggedInSmall>
              <li class="mobile-vis">
                <a class="header_sign-in-link tertiary-global-button" (click)="openAuthModalWindow('sign-in')">
                  {{ "top-bar.sign-in" | translate }}
                </a>
              </li>
            </ng-template>
            <ng-template #userNotLoggerInSmall>
              <li class="mobile-vis name tertiary-global-button">{{ name }}</li>
              <li class="mobile-vis">
                <a (click)="openSettingDialog()">
                  {{ "nav-bar.user-settings" | translate }}
                </a>
              </li>
              <li *ngIf="isLoggedIn && isAdmin" class="mobile-vis">
                <a [href]="managementLink" target="_blank">
                  {{ "nav-bar.management" | translate }}
                </a>
              </li>
              <li class="mobile-vis">
                <a (click)="signOut()">
                  {{ "nav-bar.sign-out" | translate }}
                </a>
              </li>
            </ng-template>
            <li class="mobile-vis" *ngIf="!isLoggedIn" (click)="openAuthModalWindow('sign-up')">
              <div class="create-button secondary-global-button">
                <span>{{ "top-bar.sign-up" | translate }}</span>
              </div>
            </li>
          </ul>
        </div>
        <div class="header_navigation-menu-right">
          <ul class="header_navigation-menu-right-list">
            <!-- Search icon -->
            <li *ngIf="!isAllSearchOpen" class="search-icon">
              <img (click)="toggleSearchPage()" 
                   (keyup.enter)="toggleSearchPage()" 
                   tabindex="0" 
                   src="../../../../../assets/img/search.svg" 
                   alt="Search icon">
            </li>
            <!-- Lang switcher -->
            <ul [ngClass]="{'add-shadow': langDropdownVisible, 
                          'header_lang-switcher-wrp header_navigation-menu-right-list': true}"
                (click)="langDropdownVisible = !langDropdownVisible"
                (keyup.enter)="langDropdownVisible = !langDropdownVisible"
                appCloseDropdown
                (clickOutSide)="autoCloseLangDropDown($event)"
                tabindex="0">
              <li>
                {{arrayLang[0].lang}}
                <img [ngClass]="langDropdownVisible ? 'arrow reverse' : 'arrow'" 
                     src="../../../../../assets/img/arrow_down.svg" 
                     alt="arrow down">
              </li>
              <ng-container *ngIf="langDropdownVisible">
                <ng-container *ngFor="let lang of arrayLang;index as index;">
                  <li *ngIf="index > 0" (click)="changeCurrentLanguage(lang.lang, index)">
                    {{lang.lang}}
                  </li>
                </ng-container>
              </ng-container>
            </ul>
            <ng-container *ngIf="isLoggedIn">
              <ul id="header_user-wrp" 
                  appCloseDropdown 
                  (clickOutSide)="autoCloseUserDropDown($event)"
                  [ngClass]="{'d-none': toggleBurgerMenu,
                              'add-shadow': dropdownVisible}">
                <li class="tertiary-global-button">
                  <a tabindex="0" (click)="toggleDropdown()" (keyup.enter)="toggleDropdown()">{{ name }}
                    <img class="arrow" [ngClass]="dropdownVisible ? 'arrow reverse' : 'arrow'"
                          src="../../../../../assets/img/arrow_down.svg" 
                          alt="arrow down">
                  </a>
                </li>
                <li [ngClass]="dropdownVisible ? 'drop-down-item' : 'text-hidde'">
                  <a (click)="openSettingDialog()">
                    {{ "nav-bar.user-settings" | translate }}
                  </a>
                </li>
                <li *ngIf="isLoggedIn && isAdmin" [ngClass]="dropdownVisible ? 'drop-down-item' : 'text-hidde'">
                  <a [href]="managementLink" target="_blank">
                    {{ "nav-bar.management" | translate }}
                  </a>
                </li>
                <li [ngClass]="dropdownVisible ? 'drop-down-item' : 'text-hidde'">
                  <a (click)="signOut()">
                    {{ "nav-bar.sign-out" | translate }}
                  </a>
                </li>
              </ul>
            </ng-container>
              <!-- SIGN IN LINK -->
            <ng-container *ngIf="!isLoggedIn">
              <a [ngClass]="{'d-none': toggleBurgerMenu}"
                 class="header_sign-in-link tertiary-global-button" 
                 (click)="openAuthModalWindow('sign-in')" 
                 (keyup.enter)="openAuthModalWindow('sign-in')" 
                 tabindex="0">
                {{ "top-bar.sign-in" | translate }}
              </a>
            </ng-container>
            <!-- SIGN UP LINK -->
            <li class="header_sign-up-link" 
                [ngClass]="{'d-none': toggleBurgerMenu}"
                *ngIf="!isLoggedIn"
                (click)="openAuthModalWindow('sign-up')" 
                (keyup.enter)="openAuthModalWindow('sign-up')">
              <div class="create-button secondary-global-button" tabindex="0">
                <span>{{ "top-bar.sign-up" | translate }}</span>
              </div>
            </li>
            <!-- Burger BTN -->
            <li class="header_burger-btn">
              <div class="menu-icon-wrapper" (click)="onToggleBurgerMenu()">
                <div [ngClass]="toggleBurgerMenu ? 'menu-icon menu-icon-active' : 'menu-icon'"></div>
              </div>
            </li>
          </ul>
        </div>
      </div>
    </div>
  </div>
</div>
