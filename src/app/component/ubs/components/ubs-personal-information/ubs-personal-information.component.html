<form [formGroup]="personalDataForm" (ngSubmit)="submit()">
  <div class="row personal-data">
    <div class="w-100">
      <h2 class="personal-data-title">{{'personal-info.info-personal-data' | translate}}</h2>
    </div>
    <div class="col-12 col-sm-6 form-group">
      <label>{{'personal-info.info-name' | translate}}</label>
      <input formControlName="firstName" type="text" class="shadow-none form-control">
      <div class="validation" *ngIf="firstName.invalid && firstName.touched">
        <app-ubs-input-error [formElement]="firstName" [firstNameFieldValue]="firstName.value" [controlName]="'firstName'">
        </app-ubs-input-error>
      </div>
    </div>
    <div class="col-12 col-sm-6 form-group">
      <label>{{'personal-info.info-phone' | translate}}</label>
      <input formControlName="phoneNumber" type="text" class="shadow-none form-control" placeholder="+38(___) ___ __ __"
        [unmask]="true" [imask]="{mask: phoneMask}">
      <div class="validation"
        *ngIf="personalDataForm.get('phoneNumber').invalid && personalDataForm.get('phoneNumber').touched">
        <app-ubs-input-error [formElement]="phoneNumber" [phoneNumberFieldValue]="phoneNumber.value"
          [controlName]="'phoneNumber'"></app-ubs-input-error>
      </div>
    </div>
    <div class="col-12 col-sm-6 form-group">
      <label>{{'personal-info.info-surname' | translate}}</label>
      <input formControlName="lastName" type="text" class="shadow-none form-control">
      <div class="validation" *ngIf="lastName.invalid && lastName.touched">
        <app-ubs-input-error [formElement]="lastName" [lastNameFieldValue]="lastName.value" [controlName]="'lastName'">
        </app-ubs-input-error>
      </div>
    </div>
    <div class="col-12 col-sm-6 form-group">
      <label>Email</label>
      <input formControlName="email" type="text" class="shadow-none form-control" placeholder="example@email.com">
      <div class="validation" *ngIf="email.invalid && email.touched">
        <app-ubs-input-error [formElement]="email" [emailFieldValue]="email.value" [controlName]="'email'"></app-ubs-input-error>
      </div>
    </div>
  </div>
  <hr>
  <div class="row adress-section">
    <div class="w-100">
      <h2 class="address-title">{{'personal-info.info-address' | translate}}</h2>
    </div>
    <div *ngIf="addresses.length === 0; else addressesList" class="no-addresses">{{'personal-info.info-no-address' | translate}}</div>
    <ng-template #addressesList>
      <app-address *ngFor="let address of addresses" [address]="address" class="address col-12 col-md-6"></app-address>
    </ng-template>
    <div class="w-100">
      <button type="button" class="btn add-address" mat-raised-button (click)="openDialog()">{{'personal-info.info-add-address' | translate}}</button>
    </div>
  </div>
  <hr>
  <div class="address-comment">
    <h5 class="comment-title">{{'personal-info.info-address-coment' | translate}}</h5>
    <textarea class="form-control" formControlName="addressComment"
      placeholder="{{'personal-info.info-coment-placeholder' | translate}}"></textarea>
    <div class="validation" *ngIf="addressComment.invalid && addressComment.touched">
      <app-ubs-input-error [formElement]="addressComment" [controlName]="'addressComment'"></app-ubs-input-error>
    </div>
  </div>
  <div class="w-100 d-flex justify-content-between personal-data-navigation">
    <button class="secondary-global-button btn" matStepperPrevious>{{'personal-info.info-back' | translate}}</button>
    <div>
      <button class="secondary-global-button btn" matStepperPrevious>{{'personal-info.info-cancel' | translate}}</button>
      <button type="submit" class="primary-global-button btn" matStepperNext
        [disabled]="personalDataForm.invalid">{{'personal-info.info-next' | translate}}</button>
    </div>
  </div>
</form>
