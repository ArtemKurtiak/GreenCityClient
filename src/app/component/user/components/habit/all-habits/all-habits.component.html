<div class="habits-wrapper container" (window:resize)="onResize()">
    <div class="habits_header-wrapper">
        <div>
            <h1 class="main-header">All habits</h1>
        </div>
        <app-tag-filter class="border_bottom"
                        (tagsList)="getFilterData($event)" 
                        [storageKey]="'Habits-filter'"
                        [header]="'homepage.eco-news.filter'"   
                        [tagsListData]="tagList"
                        >
        </app-tag-filter>
        <div class="habits_header-actions">
            <div class="">{{ totalHabitsCopy }} items found</div>
            <div class="habits_header-buttons">
                <button class="btn btn-white"
                        type="button"
                        (click)="onDisplayModeChange(true)"
                        [ngClass]="{'active': galleryView}">
                    <i class="fa fa-th-large"></i>
                </button>
                <button class="btn btn-white btn-bars"
                        type="button"
                        (click)="onDisplayModeChange(false)"
                        [ngClass]="{'active': !galleryView}">
                    <i class="fa fa-bars"></i>
                </button>
            </div>
        </div>
    </div>
    <div class="body-wrapper">
        <div *ngIf="galleryView"
            [ngClass]="{galleryContainer: galleryView}">
            <app-habits-gallery-view *ngFor='let habit of filteredHabitsList'
                                    [habit]="habit"
            ></app-habits-gallery-view>
        </div>
        <div *ngIf="!galleryView"
                [ngClass]="{listView: !galleryView}">
            <app-habits-list-view *ngFor='let habit of filteredHabitsList'
                                [habit]="habit">
            </app-habits-list-view>
        </div>
    </div>
    <app-spinner *ngIf="isFetching"></app-spinner>
    <app-no-data *ngIf="!elementsLeft" 
                [title]="'user.habit.all-habits.no-habits'" 
                [text]="'user.habit.all-habits.no-habits-advice'">
    </app-no-data>
    <div infiniteScroll
         [infiniteScrollDistance]="0"
         [infiniteScrollThrottle]="500"
         (scrolled)="onScroll()">
    </div>
</div>
